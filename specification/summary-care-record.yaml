openapi: 3.0.0
info:
  version: 1.0.0
  title: Summary Care Record API
  license:
    name: MIT
  contact:
    name: Summary Care Record FHIR API Support
    url: 'https://digital.nhs.uk/developer/help-and-support'
    email: api.management@nhs.net
x-nhsd-api-platform:
  meta:
    name: Summary Care Record API
    canonical_name: summary-care-record
    short_name: scr
    description: This is a generated template API
    pipeline_name_prefix: "Summary-Care-Record"
  base_path: "summary-care-record"
servers:
  - url: 'http://localhost:8080'
    description: Local sandbox environment
tags:
  - name: SCR
paths:
  /fhir:
    post:
      tags:
        - SCR
      summary: Scr endpoint
      operationId: operationId
      parameters:
        - in: header
          name: Nhsd-Asid
          schema:
            type: string
          required: true
          description: "Sender Nhsd-Asid"
      requestBody:
        required: true
        content:
          application/fhir+json:
            schema:
              allOf:
                - $ref: '#/components/schemas/Bundle'
            examples:
              json:
                summary: A sample JSON body
                value: "{\n  \"resourceType\": \"Bundle\",\n  \"id\": \"f61e545c-d52c-4b62-9668-3dcc6c27fc50\",\n  \"identifier\": {\n    \"system\": \"https://tools.ietf.org/html/rfc4122\",\n    \"value\": \"1ff370b6-fc5b-40a1-9721-2a942e301666\"\n  },\n  \"type\": \"document\",\n  \"timestamp\": \"2007-03-15T01:00:00Z\",\n  \"entry\":  [\n    {\n      \"fullUrl\": \"urn:uuid:2880eedf-76f0-4f38-9681-dc158e937da7\",\n      \"resource\": {\n        \"resourceType\": \"Composition\",\n        \"id\": \"2880eedf-76f0-4f38-9681-dc158e937da7\",\n        \"identifier\": {\n          \"system\": \"https://tools.ietf.org/html/rfc4122\",\n          \"value\": \"2b5d459b-df79-4a2b-9b0c-95b2a7ee2ca4\"\n        },\n        \"status\": \"final\",\n        \"type\": {\n          \"coding\":  [\n            {\n              \"system\": \"http://snomed.info/sct\",\n              \"code\": \"196981000000101\",\n              \"display\": \"General Practice Summary\"\n            }\n          ]\n        },\n        \"date\": \"2007-03-15T01:00:00Z\",\n        \"subject\": {\n          \"reference\": \"urn:uuid:b6f5dd89-fc3a-466d-baad-126c0aac46fc\"\n        },\n        \"author\":  [\n          {\n            \"reference\": \"urn:uuid:83c26c8f-ee72-4534-8891-0136972b2106\",\n            \"display\": \"Dr Steve Jones\"\n          }\n        ],\n        \"title\": \"General Practice Summary\",\n        \"relatesTo\": [\n          {\n            \"code\": \"replaces\",\n            \"targetIdentifier\": {\n              \"value\": \"D18B57ED-992E-45A2-A6AF-55200D20F48E\"\n            }\n          }\n        ],\n        \"section\":  [\n          {\n            \"title\": \"Diagnoses\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Medication Item</th><th>Dosage instructions</th><th>Quantity or duration</th><th>Reason for medication</th><th>Supporting information</th></tr></thead><tbody><tr><td>Start 03-Jan-92 End 02-Feb-06</td><td>Bendrofluazide 2.5mg tablets</td><td>One daliy</td><td /><td>hypokalaemia</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Diagnoses\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Medication Item</th><th>Dosage instructions</th><th>Quantity or duration</th><th>Reason for medication</th><th>Supporting information</th></tr></thead><tbody><tr><td>Start 03-Jan-92 End 02-Feb-06</td><td>Bendrofluazide 2.5mg tablets</td><td>One daliy</td><td /><td>hypokalaemia</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Diagnoses\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Medication Item</th><th>Dosage instructions</th><th>Quantity or duration</th><th>Reason for medication</th><th>Supporting information</th></tr></thead><tbody><tr><td>Start 03-Jan-92 End 02-Feb-06</td><td>Bendrofluazide 2.5mg tablets</td><td>One daliy</td><td /><td>hypokalaemia</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Diagnoses\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Medication Item</th><th>Dosage instructions</th><th>Quantity or duration</th><th>Reason for medication</th><th>Supporting information</th></tr></thead><tbody><tr><td>Start 03-Jan-92 End 02-Feb-06</td><td>Bendrofluazide 2.5mg tablets</td><td>One daliy</td><td /><td>hypokalaemia</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Clinical observations and findings\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Medication Item</th><th>Dosage instructions</th><th>Quantity or duration</th><th>Reason for medication</th><th>Supporting information</th></tr></thead><tbody><tr><td>Start 03-Jan-92 End 02-Feb-06</td><td>Bendrofluazide 2.5mg tablets</td><td>One daliy</td><td /><td>hypokalaemia</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Investigation results\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Medication Item</th><th>Dosage instructions</th><th>Quantity or duration</th><th>Reason for medication</th><th>Supporting information</th></tr></thead><tbody><tr><td>Start 03-Jan-92 End 02-Feb-06</td><td>Bendrofluazide 2.5mg tablets</td><td>One daliy</td><td /><td>hypokalaemia</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"General Practice Summary\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><h3>Sourced from the patient's General Practice record. This information has not been verified by the practice prior to sending. This summary \n may not include all the information pertinent to this patient NB the patient may have opted to leave out items from this summary</h3><h3>Time of summary creation 16.00 15-Mar-2007</h3><h3>Author Dr Steve Jones, The Bridge Street Practice, Bridge Street, Bridge Town, Bridgeshire, \n BT1 1BT, England, +4401234567890</h3><h3>Date of sending this summary 15-Mar-2007</h3></div>\"\n            }\n          },\n          {\n            \"title\": \"Allergies and Adverse Reactions\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Description</th><th>Supporting information</th></tr></thead><tbody><tr><td>13-Jan-07</td><td>Refused consent for upload to national shared electronic record</td></tr><tr><td>14-Nov-06</td><td>Allergy to Drug - Penicillin, (probably present) . </td><td>Patient stated that they told that they were were allergic to penicillin by their parents </td></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Repeat Medication\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date first prescribed</th><th>Medication Item</th><th>Dosage instructions</th><th>Quantity or duration</th><th>Reason for medication</th><th>Supporting information</th></tr></thead><tbody><tr><td>02-Mar-06</td><td>1% Hydrocortisone cream</td><td>use on affected areas twice a day</td><td /><td /><td>Used for eczema on forearms</td></tr><tr><td>12-Jan-05</td><td>atenolol 50mg tablets</td><td>take one daily</td><td /><td>Ischaemic Heart disease</td><td /></tr><tr><td>30-Apr-04</td><td>lisinopril 10mg</td><td>take one daily</td><td /><td>Ischaemic Heart disease</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Acute Medication\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date prescribed</th><th>Medication Item</th><th>Dosage instructions</th><th>Quantity or duration</th><th>Reason for medication</th><th>Supporting information</th></tr></thead><tbody><tr><td>13-Jan-07</td><td>Refused consent for upload to national shared electronic record</td><td /><td /><td /><td /></tr><tr><td>12-Nov-06</td><td>Amoxycillin 500mg tablets</td><td>one four times daily</td><td>7 days</td><td /><td>Chest infection - green sputum for 3 days</td></tr><tr><td>16-Nov-06</td><td>erythromycin 500mg tablets</td><td>one four times daily</td><td>7 days</td><td>Allergy to Penicillin</td><td /></tr><tr><td>01-Dec-06</td><td>Paracetamol 500mg tablets</td><td>one or two tablet four times daily as required</td><td>100 tablets</td><td>Right Knee pain</td><td /></tr><tr><td>01-Dec-06</td><td>Codeine 30mg tablets</td><td>one or two tablet four times daily as required</td><td>100 tablets</td><td>Right Knee pain</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Discontinued Repeat Medication\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Medication Item</th><th>Dosage instructions</th><th>Quantity or duration</th><th>Reason for medication</th><th>Supporting information</th></tr></thead><tbody><tr><td>Start 03-Jan-92 End 02-Feb-06</td><td>Bendrofluazide 2.5mg tablets</td><td>One daliy</td><td /><td>hypokalaemia</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Risks to Care professional or Third Party\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Description</th><th>Supporting information</th></tr></thead><tbody><tr><td>14-Feb-05</td><td>Hepatitis B</td><td>Hepatitis B surface antigen positive on last test 3 months ago</td></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Diagnoses\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Description</th><th>Supporting information</th></tr></thead><tbody><tr><td>12-Jan-06</td><td>Myocardial Infarction</td><td /></tr><tr><td>12-Jan-06</td><td>Ischaemic heart disease</td><td>No symptomatic problems - on preventative measures only.</td></tr><tr><td>14-Feb-05</td><td>Hepatitis B</td><td>Hepatitis B surface antigen positive on last test 3 months ago.</td></tr><tr><td>30-Apr-04</td><td>Osteoarthritis</td><td>Starting to affect both hips and both knees.</td></tr><tr><td>17-Dec-99</td><td>Lobar Pneumonia</td><td>Left lower lobe - treated in hospital with antibiotics</td></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Problems and issues\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Description</th><th>Supporting information</th></tr></thead><tbody><tr><td>12-Jan-06</td><td>Ischaemic heart disease</td><td>No symptomatic problems - on preventative measures only.</td></tr><tr><td>20-Feb-03</td><td>Knee pain - right</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Clinical Observation and Findings\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Description</th><th>Supporting information</th></tr></thead><tbody><tr><td>12-Jan-06</td><td>body weight - value = 95Kg</td><td /></tr><tr><td>10-Feb-03</td><td>Knee pain - right</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Treatments\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Description</th><th>Supporting information</th></tr></thead><tbody><tr><td>22-Feb-06</td><td>Knee replacement - right</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Investigations\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Description</th><th>Supporting information</th></tr></thead><tbody><tr><td>10-Mar-07</td><td>Magnetic resonance imaging - planned</td><td>to look into ongoing pain in the right knee.</td></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Provision of Advice and Information to Patients and Carers\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Description</th><th>Supporting information</th></tr></thead><tbody><tr><td>12-Mar-07</td><td>Advice about exercise</td><td>Advised to only perform light exercise.</td></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Personal Preferences\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Description</th><th>Supporting information</th></tr></thead><tbody><tr><td>15-Jan-06</td><td>Preference for male healthcare professional</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Social and Personal Circumstances\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Description</th><th>Supporting information</th></tr></thead><tbody><tr><td>01-Jan-76</td><td>Director of photography (motion picture)</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Services, Care Professionals and Carers\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Description</th><th>Supporting information</th><th>Person or Organisation</th></tr></thead><tbody><tr><td>12-Jan-07</td><td>District nurse attends</td><td /><td>Petra Caull Role id 139852035803 person id 591650593093</td></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Lifestyle\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Description</th><th>Supporting information</th></tr></thead><tbody><tr><td>12-Jan-06</td><td>Non smoker</td><td /></tr></tbody></table></div>\"\n            }\n          },\n          {\n            \"title\": \"Family History\",\n            \"text\": {\n              \"status\": \"generated\",\n              \"div\": \"<div xmlns=\"http://www.w3.org/1999/xhtml\"><table><thead><tr><th>Date</th><th>Description</th><th>Supporting information</th></tr></thead><tbody><tr><td>12-Jun-91</td><td>Family history of Ischeamic heart disease</td><td>Father died of heart attack at age 55</td></tr></tbody></table></div>\"\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"fullUrl\": \"urn:uuid:83c26c8f-ee72-4534-8891-0136972b2106\",\n      \"resource\": {\n        \"resourceType\": \"PractitionerRole\",\n        \"id\": \"83c26c8f-ee72-4534-8891-0136972b2106\",\n        \"identifier\":  [\n          {\n            \"system\": \"http://fhir.nhs.net/Id/sds-role-profile-id\",\n            \"value\": \"673836492727\"\n          }\n        ],\n        \"practitioner\": {\n          \"reference\": \"urn:uuid:b1a41ee5-b88b-4f66-bd83-24343bf63dd8\"\n        },\n        \"code\": [\n          {\n            \"coding\": [\n              {\n                \"code\": \"R0070\",\n                \"display\": \"Associate Specialist\",\n                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-SDSJobRoleName\"\n              }\n            ]\n          }\n        ]\n      }\n    },\n    {\n      \"fullUrl\": \"urn:uuid:a82b49f8-2780-47cc-aa4b-62f79aa4ade9\",\n      \"resource\": {\n        \"resourceType\": \"Organization\",\n        \"id\": \"a82b49f8-2780-47cc-aa4b-62f79aa4ade9\",\n        \"identifier\":  [\n          {\n            \"use\": \"official\",\n            \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\n            \"value\": \"RR8\"\n          }\n        ],\n        \"type\": [\n          {\n            \"coding\": [\n              {\n                \"code\": \"1\",\n                \"system\": \"1\",\n                \"display\": \"1\"\n              }\n            ]\n          }\n        ],\n        \"name\": \"LEEDS TEACHING HOSPITAL TRUST\",\n        \"telecom\": [\n          {\n          \"system\": \"phone\",\n          \"value\": \"0113 243 3144\"\n          }\n        ],\n        \"address\": [\n          {\n            \"line\": [\n              \"ST. JAMES'S UNIVERSITY HOSPITAL\",\n              \"BECKETT STREET\"\n            ],\n            \"city\": \"LEEDS\",\n            \"district\": \"CITY OF LEEDS\",\n            \"postalCode\": \"LS9 7TF\",\n            \"country\": \"ENGLAND\"\n          }\n        ]\n      }\n    },\n    {\n      \"fullUrl\": \"urn:uuid:b1a41ee5-b88b-4f66-bd83-24343bf63dd8\",\n      \"resource\": {\n        \"resourceType\": \"Practitioner\",\n        \"id\": \"b1a41ee5-b88b-4f66-bd83-24343bf63dd8\",\n        \"identifier\": [\n          {\n            \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",\n            \"value\": \"676789689789\"\n          }\n        ],\n        \"name\":  [\n          {\n            \"family\": \"Jones\",\n            \"given\":  [\n              \"Steve\"\n            ],\n            \"prefix\":  [\n              \"Dr\"\n            ]\n          }\n        ]\n      }\n    },\n    {\n      \"fullUrl\": \"urn:uuid:b6f5dd89-fc3a-466d-baad-126c0aac46fc\",\n      \"resource\": {\n        \"resourceType\": \"Patient\",\n        \"id\": \"b6f5dd89-fc3a-466d-baad-126c0aac46fc\",\n        \"identifier\":  [\n          {\n            \"extension\":  [\n              {\n                \"url\": \"https://fhir.hl7.org.uk/STU3/StructureDefinition/Extension-CareConnect-NHSNumberVerificationStatus-1\",\n                \"valueCodeableConcept\": {\n                  \"coding\":  [\n                    {\n                      \"system\": \"https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-NHSNumberVerificationStatus-1\",\n                      \"code\": \"01\",\n                      \"display\": \"Number present and verified\"\n                    }\n                  ]\n                }\n              }\n            ],\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\n            \"value\": \"9900004948\"\n          }\n        ]\n      }\n    },\n    {\n      \"fullUrl\": \"baecc1c2-c86c-482c-8cea-981b47a6cc48\",\n      \"resource\": {\n        \"resourceType\": \"Condition\",\n        \"meta\": [\n          {\n            \"profile\": \"https://fhir.nhs.uk/R4/StructureDefinition/UKCore-Condition\"\n          }\n        ],\n        \"identifier\": [\n          {\n            \"value\": \"0F582D97-8F89-11EA-8B2D-B741F13EFC47\"\n          }\n        ],\n        \"clinicalStatus\": [\n          {\n            \"coding\": [\n              {\n                \"system\": \"http://terminology.hl7.org/CodeSystem/condition-clinical\",\n                \"code\": \"active\",\n                \"display\": \"Active\"\n              }\n            ]\n          }\n        ],\n        \"code\": [\n          {\n            \"coding\": [\n              {\n                \"system\": \"http://snomed.info/sct\",\n                \"code\": \"1240751000000100\",\n                \"display\": \"COVID-19\"\n              }\n            ]\n          }\n        ],\n        \"onsetDateTime\": \"2020-05-06T10:48:19+00:00\"\n      }\n    },\n    {\n      \"fullUrl\": \"baecc1c2-c86c-482c-8cea-981b47a6cc48\",\n      \"resource\": {\n        \"resourceType\": \"Condition\",\n        \"meta\": [\n          {\n            \"profile\": \"https://fhir.nhs.uk/R4/StructureDefinition/UKCore-Condition\"\n          }\n        ],\n        \"identifier\": [\n          {\n            \"value\": \"0F582D97-8F89-11EA-8B2D-B741F13EFC47\"\n          }\n        ],\n        \"clinicalStatus\": [\n          {\n            \"coding\": [\n              {\n                \"system\": \"http://terminology.hl7.org/CodeSystem/condition-clinical\",\n                \"code\": \"active\",\n                \"display\": \"Active\"\n              }\n            ]\n          }\n        ],\n        \"code\": [\n          {\n            \"coding\": [\n              {\n                \"system\": \"http://snomed.info/sct\",\n                \"code\": \"1300721000000109\",\n                \"display\": \"COVID-19 confirmed by laboratory test\"\n              }\n            ]\n          }\n        ],\n        \"onsetDateTime\": \"2020-05-06T10:48:19+00:00\"\n      }\n    },\n    {\n      \"fullUrl\": \"baecc1c2-c86c-482c-8cea-981b47a6cc48\",\n      \"resource\": {\n        \"resourceType\": \"Condition\",\n        \"meta\": [\n          {\n            \"profile\": \"https://fhir.nhs.uk/R4/StructureDefinition/UKCore-Condition\"\n          }\n        ],\n        \"identifier\": [\n          {\n            \"value\": \"0F582D97-8F89-11EA-8B2D-B741F13EFC47\"\n          }\n        ],\n        \"clinicalStatus\": [\n          {\n            \"coding\": [\n              {\n                \"system\": \"http://terminology.hl7.org/CodeSystem/condition-clinical\",\n                \"code\": \"active\",\n                \"display\": \"Active\"\n              }\n            ]\n          }\n        ],\n        \"code\": [\n          {\n            \"coding\": [\n              {\n                \"system\": \"http://snomed.info/sct\",\n                \"code\": \"1300731000000106\",\n                \"display\": \"COVID-19 confirmed using clinical diagnostic criteria\"\n              }\n            ]\n          }\n        ],\n        \"onsetDateTime\": \"2020-05-06T10:48:19+00:00\"\n      }\n    },\n    {\n      \"fullUrl\": \"baecc1c2-c86c-482c-8cea-981b47a6cc48\",\n      \"resource\": {\n        \"resourceType\": \"Condition\",\n        \"meta\": [\n          {\n            \"profile\": \"https://fhir.nhs.uk/R4/StructureDefinition/UKCore-Condition\"\n          }\n        ],\n        \"identifier\": [\n          {\n            \"value\": \"0F582D97-8F89-11EA-8B2D-B741F13EFC47\"\n          }\n        ],\n        \"clinicalStatus\": [\n          {\n            \"coding\": [\n              {\n                \"system\": \"http://terminology.hl7.org/CodeSystem/condition-clinical\",\n                \"code\": \"active\",\n                \"display\": \"Active\"\n              }\n            ]\n          }\n        ],\n        \"code\": [\n          {\n            \"coding\": [\n              {\n                \"system\": \"http://snomed.info/sct\",\n                \"code\": \"1240761000000102\",\n                \"display\": \"Suspected COVID-19\"\n              }\n            ]\n          }\n        ],\n        \"onsetDateTime\": \"2020-05-06T10:48:19+00:00\"\n      }\n    },\n    {\n      \"fullUrl\": \"baecc1c2-c86c-482c-8cea-981b47a6cc48\",\n      \"resource\": {\n        \"resourceType\": \"Observation\",\n        \"meta\": [\n          {\n            \"profile\": \"https://fhir.nhs.uk/R4/StructureDefinition/UKCore-Observation\"\n          }\n        ],\n        \"identifier\": [\n          {\n            \"value\": \"0F582D97-8F89-11EA-8B2D-B741F13EFC47\"\n          }\n        ],\n        \"status\": \"final\",\n        \"code\": [\n          {\n            \"coding\": [\n              {\n                \"system\": \"http://snomed.info/sct\",\n                \"code\": \"163131000000108\",\n                \"display\": \"SARS-CoV-2 (severe acute respiratory syndrome coronavirus 2) RNA (ribonucleic acid) detection result positive\"\n              }\n            ]\n          }\n        ],\n        \"effectivePeriod\": [\n          {\n            \"start\": \"2020-05-06T10:48:19+00:00\"\n          }\n        ]\n      }\n    },\n    {\n      \"fullUrl\": \"baecc1c2-c86c-482c-8cea-981b47a6cc48\",\n      \"resource\": {\n        \"resourceType\": \"Observation\",\n        \"meta\": [\n          {\n            \"profile\": \"https://fhir.nhs.uk/R4/StructureDefinition/UKCore-Observation\"\n          }\n        ],\n        \"identifier\": [\n          {\n            \"value\": \"0F582D97-8F89-11EA-8B2D-B741F13EFC47\"\n          }\n        ],\n        \"status\": \"final\",\n        \"code\": [\n          {\n            \"coding\": [\n              {\n                \"system\": \"http://snomed.info/sct\",\n                \"code\": \"1240581000000104\",\n                \"display\": \"SARS-CoV-2 (severe acute respiratory syndrome coronavirus 2) RNA (ribonucleic acid) detection result positive\"\n              }\n            ]\n          }\n        ],\n        \"effectivePeriod\": [\n          {\n            \"start\": \"2020-05-06T10:48:19+00:00\"\n          }\n        ]\n      }\n    }\n  ]\n}"
      responses:
        "200":
          description: OK successful
          content:
            application/fhir+json:
              schema:
                type: object
              example: "{\n	\"resourceType\": \"OperationOutcome\",\n	\"meta\": {\n		\"profile\": [\"https://fhir.nhs.uk/STU3/StructureDefinition/Spine-OperationOutcome-1\"]\n	},\n	\"issue\": [{\n		\"severity\": \"error\",\n		\"code\": \"value\",\n		\"details\": \"Resource has been successfully updated.\"\n	}]\n}"
        "400":
          description: Bad request
          content:
            application/fhir+json:
              schema:
                type: object
              example: "{\n	\"resourceType\": \"OperationOutcome\",\n	\"meta\": {\n		\"profile\": [\"https://fhir.nhs.uk/STU3/StructureDefinition/Spine-OperationOutcome-1\"]\n	},\n	\"issue\": [{\n		\"severity\": \"error\",\n		\"code\": \"value\",\n		\"details\": {\n			\"coding\": [{\n				\"system\": \"https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1\",\n				\"code\": \"https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1 == static code value\",\n				\"dispay\": \"https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1 == static display value\"\n			}]\n		}\n	}]\n}"
        "412":
          description: ACL consent not set
          content:
            application/fhir+json:
              schema:
                type: object
              example: "{\n	\"resourceType\": \"OperationOutcome\",\n	\"meta\": {\n		\"profile\": [\"https://fhir.nhs.uk/STU3/StructureDefinition/Spine-OperationOutcome-1\"]\n	},\n	\"issue\": [{\n		\"severity\": \"error\",\n		\"code\": \"value\",\n		\"details\": {\n			\"coding\": [{\n				\"system\": \"https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1\",\n				\"code\": \"https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1 == static code value\",\n				\"dispay\": \"https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1 == static display value\"\n			}]\n		}\n	}]\n}"
        "502":
          description: Spine changed response structure
          content:
            application/fhir+json:
              schema:
                type: object
              example: "{\n	\"resourceType\": \"OperationOutcome\",\n	\"meta\": {\n		\"profile\": [\"https://fhir.nhs.uk/STU3/StructureDefinition/Spine-OperationOutcome-1\"]\n	},\n	\"issue\": [{\n		\"severity\": \"error\",\n		\"code\": \"value\",\n		\"details\": {\n			\"coding\": [{\n				\"system\": \"https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1\",\n				\"code\": \"https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1 == static code value\",\n				\"dispay\": \"https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1 == static display value\"\n			}]\n		}\n	}]\n}"

        "504":
          description: Gateway Timeout
          content:
            application/fhir+json:
              schema:
                type: object
              example: "{\n	\"resourceType\": \"OperationOutcome\",\n	\"meta\": {\n		\"profile\": [\"https://fhir.nhs.uk/STU3/StructureDefinition/Spine-OperationOutcome-1\"]\n	},\n	\"issue\": [{\n		\"severity\": \"error\",\n		\"code\": \"value\",\n		\"details\": {\n			\"coding\": [{\n				\"system\": \"https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1\",\n				\"code\": \"https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1 == static code value\",\n				\"dispay\": \"https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1 == static display value\"\n			}]\n		}\n	}]\n}"

  /healthcheck:
    get:
      tags:
        - healthcheck
      summary: Health check endpoint
      description: This endpoint just returns a HTTP 200 response and does no further processing. This endpoint is intended to be used by load balancers/other infrastructure to check that the server is running.
      operationId: getHealthcheck
      responses:
        "200":
          description: Returns status information.
          content:
            application/json:
              schema:
                type: object
                example: {"status":"UP"}

components:
  schemas:
    Bundle:
      type: object
      properties:
        resourceType:
          type: string
          example: "Bundle"
        id:
          type: string
          example: "f61e545c-d52c-4b62-9668-3dcc6c27fc50"
        identifier:
          $ref: '#/components/schemas/identifier'
        type:
          type: string
          example: "document"
        timestamp:
          type: string
          example: "2007-03-15T01:00:00Z"
        entry:
          type: array
          items:
            oneOf:
              - $ref: '#/components/schemas/Composition'
              - $ref: '#/components/schemas/Patient'
              - $ref: '#/components/schemas/Organization'
              - $ref: '#/components/schemas/Practitioner'
              - $ref: '#/components/schemas/PractitionerRole'
            anyOf:
              - $ref: '#/components/schemas/Condition'
              - $ref: '#/components/schemas/Observation'
          example:
            - fullUrl: ""
              resource: {}
      required:
        - resourceType
        - id
        - identifier
        - type
        - timestamp
        - entry

    Composition:
      type: object
      properties:
        fullUrl:
          type: string
        resource:
          type: object
          properties:
            resourceType:
              type: string
              example: "Composition"
            id:
              type: string
              example: "2880eedf-76f0-4f38-9681-dc158e937da7"
            identifier:
              $ref: '#/components/schemas/identifier'
            status:
              type: string
              example: 'final'
            type:
              type: object
              properties:
                coding:
                  $ref: '#/components/schemas/coding'
            date:
              type: string
              example: '2007-03-15T01:00:00Z'
            subject:
              type: object
              properties:
                reference:
                  type: string
            author:
              type: array
              items:
                properties:
                  reference:
                    type: string
                  display:
                    type: string
            relatesTo:
              type: array
              items:
                properties:
                  code:
                    type: string
                  targetIdentifier:
                    type: object
                    properties:
                      value:
                        type: string
                    required:
                      - value
                required:
                  - targetIdentifier
            title:
              type: string
              example: 'General Practice Summary'
            section:
              type: array
              items:
                type: object
                properties:
                  title:
                    type: string
                  text:
                    type: object
                    properties:
                      status:
                        type: string
                      div:
                        type: string
          required:
            - date

    Patient:
      type: object
      properties:
        fullUrl:
          type: string
        resource:
          type: object
          properties:
            resourceType:
              type: string
              example: "Patient"
            id:
              type: string
              example: "b6f5dd89-fc3a-466d-baad-126c0aac46fc"
            identifier:
              type: array
              items:
                type: object
                properties:
                  extension:
                    type: array
                    items:
                      type: object
                      properties:
                        url:
                          type: string
                        valueCodeableConcept:
                          type: object
                          properties:
                            coding:
                              $ref: '#/components/schemas/coding'
                  system:
                    type: string
                  value:
                    type: string

    Organization:
      type: object
      properties:
        fullUrl:
          type: string
        resource:
          type: object
          properties:
            resourceType:
              type: string
              example: "Organization"
            id:
              type: string
              example: "b6f5dd89-fc3a-466d-baad-126c0aac46fc"
            identifier:
              type: array
              items:
                $ref: '#/components/schemas/identifier'
            type:
              type: array
              items:
                type: object
                properties:
                  coding:
                    $ref: '#/components/schemas/coding'
            name:
              type: string
            telecom:
              type: array
              items:
                type: object
                properties:
                  system:
                    type: string
                  value:
                    type: string
            address:
              type: array
              items:
                type: object
                properties:
                  line:
                    type: array
                    items:
                      type: string
                  city:
                    type: string
                  district:
                    type: string
                  postalCode:
                    type: string
                  country:
                    type: string

    Practitioner:
      type: object
      properties:
        fullUrl:
          type: string
        resource:
          type: object
          properties:
            resourceType:
              type: string
              example: "Practitioner"
            id:
              type: string
              example: "b1a41ee5-b88b-4f66-bd83-24343bf63dd8"
            identifier:
              type: array
              items:
                $ref: '#/components/schemas/identifier'
            name:
              type: array
              items:
                type: object
                properties:
                  family:
                    type: string
                  given:
                    type: array
                    items:
                      type: string
                  prefix:
                    type: array
                    items:
                      type: string

    PractitionerRole:
      type: object
      properties:
        fullUrl:
          type: string
        resource:
          type: object
          properties:
            resourceType:
              type: string
              example: "PractitionerRole"
            id:
              type: string
              example: "83c26c8f-ee72-4534-8891-0136972b2106"
            identifier:
              type: array
              items:
                $ref: '#/components/schemas/identifier'
            practitioner:
              type: object
              properties:
                reference:
                  type: string
                  example: 'urn:uuid:b1a41ee5-b88b-4f66-bd83-24343bf63dd8'
            code:
              type: array
              items:
                type: object
                properties:
                  coding:
                    $ref: '#/components/schemas/coding'
          required:
            - identifier

    Condition:
      description: "Optional element"
      type: object
      properties:
        fullUrl:
          type: string
        resource:
          type: object
          properties:
            resourceType:
              type: string
              example: "Condition"
            meta:
              type: array
              items:
                type: object
                properties:
                  profile:
                    type: string
                    example: "https://fhir.nhs.uk/R4/StructureDefinition/UKCore-Condition"
            identifier:
              type: array
              items:
                type: object
                properties:
                  use:
                    type: string
                  system:
                    type: string
                  value:
                    type: string
                required: 
                  - system
            clinicalStatus:
              type: array
              items:
                type: object
                properties:
                  coding:
                    $ref: '#/components/schemas/coding'
            code:
              type: array
              items:
                type: object
                properties:
                  coding:
                    $ref: '#/components/schemas/coding'
            onsetDateTime:
              type: string
              example: "2020-05-06T10:48:19+00:00"
          required:
            - clinicalStatus

    Observation:
      description: "Optional element"
      type: object
      properties:
        fullUrl:
          type: string
        resource:
          type: object
          properties:
            resourceType:
              type: string
              example: "Observation"
            meta:
              type: array
              items:
                type: object
                properties:
                  profile:
                    type: string
                    example: "https://fhir.nhs.uk/R4/StructureDefinition/UKCore-Observation"
            identifier:
              type: array
              items:
                type: object
                properties:
                  system:
                    type: string
                  value:
                    type: string
            status:
              type: string
              enum:
                - final
                - entered-in-error
              example: "final"
            code:
              type: array
              items:
                type: object
                properties:
                  coding:
                    $ref: '#/components/schemas/coding'
            effectivePeriod:
              type: array
              items:
                type: object
                properties:
                  start:
                    type: string
                  end:
                    type: string
          required:
            - status

    identifier:
      type: object
      properties:
        use:
          type: string
        system:
          type: string
        value:
          type: string

    coding:
      type: array
      items:
        type: object
        properties:
          system:
            type: string
          code:
            type: string
          display:
            type: string